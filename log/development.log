# Logfile created on Fri Mar 09 17:16:25 +0100 2012

Processing MainController#map (for 127.0.0.1 at 2012-03-09 17:52:45) [GET]
Rendering main/map
Completed in 68ms (View: 67, DB: 0) | 200 OK [http://localhost/main/map/]


Processing MainController#map (for 127.0.0.1 at 2012-03-09 18:10:03) [GET]

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.split):
  app/controllers/main_controller.rb:27:in `map'

Rendered rescues/_trace (30.5ms)
Rendered rescues/_request_and_response (14.3ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#index (for 127.0.0.1 at 2012-03-09 18:10:25) [GET]

ActionController::RoutingError (No route matches "/main/map/53.551196,9.968719" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing MainController#map (for 127.0.0.1 at 2012-03-09 18:11:00) [GET]
  Parameters: {"id"=>"53"}

NameError (undefined local variable or method `geo' for #<MainController:0x1041bc5b0>):
  app/controllers/main_controller.rb:28:in `map'

Rendered rescues/_trace (36.2ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing MainController#map (for 127.0.0.1 at 2012-03-09 18:16:27) [GET]
  Parameters: {"id"=>"53.551196,9.968719"}
Rendering main/map
ERROR: compiling _run_erb_app47views47main47map46html46erb RAISED compile error
/Users/tatiana/Workspace/qype-fm/app/views/main/map.html.erb:24: syntax error, unexpected '}', expecting tCOLON2 or '[' or '.'
...nt.venue.lat,event.venue.long}" ).to_s); @output_buffer.conc...
                              ^
/Users/tatiana/Workspace/qype-fm/app/views/main/map.html.erb:25: unterminated string meets end of file
/Users/tatiana/Workspace/qype-fm/app/views/main/map.html.erb:25: syntax error, unexpected $end, expecting '}'
Function body:           def _run_erb_app47views47main47map46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<!DOCTYPE html>\n<html>\n  <head>\n    <meta name=\"viewport\" content=\"initial-scale=1.0, user-scalable=no\" />\n    <style type=\"text/css\">\n      html { height: 100% }\n      body { height: 100%; margin: 0; padding: 0 }\n      #map_canvas { height: 100% }\n    </style>\n    <script type=\"text/javascript\"\n      src=\"http://maps.googleapis.com/maps/api/js?key=AIzaSyDZ4CZqaTp1qaIccUL6F-XCd7xcS7sEMc4&sensor=true\">\n    </script>\n    <script type=\"text/javascript\">\n      function initialize() {\n        var myOptions = {\n          center: new google.maps.LatLng(53.551196,9.968719),\n          zoom: 12,\n          mapTypeId: google.maps.MapTypeId.ROADMAP\n        };\n        var map = new google.maps.Map(document.getElementById(\"map_canvas\"),\n            myOptions);\n        "




















;  @events.each do |event| ; @output_buffer.concat "\n          var marker_"
; @output_buffer.concat(( event.eid ).to_s); @output_buffer.concat " = new google.maps.Marker({\n              position: '"
; @output_buffer.concat(( "#{event.venue.lat,event.venue.long}" ).to_s); @output_buffer.concat "',\n              title: '"
; @output_buffer.concat(( event.title ).to_s); @output_buffer.concat "'\n          });\n          marker_"

; @output_buffer.concat(( event.eid ).to_s); @output_buffer.concat ".setMap(map);\n        "
;  end ; @output_buffer.concat "\n      }\n    </script>\n  </head>\n  <body onload=\"initialize()\">\n    <div id=\"map_canvas\" style=\"width:100%; height:100%\"></div>\n  </body>\n</html>"






; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/tatiana/Workspace/qype-fm/app/views/main/map.html.erb:25:in `compile!'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_view/renderable.rb:61:in `compile'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_view/renderable.rb:28:in `render'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_view/template.rb:205:in `render_template'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_view/base.rb:265:in `render'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/base.rb:1252:in `render_for_file'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/base.rb:978:in `render_without_benchmark'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/benchmarking.rb:51:in `render'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/activesupport-2.3.14/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/tatiana/.rvm/rubies/ree-1.8.7-2011.03/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/activesupport-2.3.14/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/benchmarking.rb:51:in `render'
/Users/tatiana/Workspace/qype-fm/app/controllers/main_controller.rb:29:in `map'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/base.rb:1333:in `send'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/base.rb:1333:in `perform_action_without_filters'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/filters.rb:617:in `call_filters'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/activesupport-2.3.14/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/tatiana/.rvm/rubies/ree-1.8.7-2011.03/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/activesupport-2.3.14/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/flash.rb:151:in `perform_action'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/base.rb:532:in `send'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/filters.rb:606:in `process'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/base.rb:391:in `process'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/base.rb:386:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/routing/route_set.rb:438:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/activerecord-2.3.14/lib/active_record/query_cache.rb:29:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/activerecord-2.3.14/lib/active_record/query_cache.rb:29:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/activerecord-2.3.14/lib/active_record/query_cache.rb:9:in `cache'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/activerecord-2.3.14/lib/active_record/query_cache.rb:28:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/activerecord-2.3.14/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/string_coercion.rb:25:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/params_parser.rb:15:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/session/cookie_store.rb:99:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/failsafe.rb:26:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:114:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/reloader.rb:34:in `run'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/actionpack-2.3.14/lib/action_controller/dispatcher.rb:108:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/rails-2.3.14/lib/rails/rack/static.rb:31:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/rails-2.3.14/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/rack-1.1.0/lib/rack/chunked.rb:15:in `call'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:67:in `process'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/rack-1.1.0/lib/rack/handler/mongrel.rb:38:in `run'
/Users/tatiana/.rvm/gems/ree-1.8.7-2011.03@rails235/gems/rails-2.3.14/lib/commands/server.rb:111
/Users/tatiana/.rvm/rubies/ree-1.8.7-2011.03/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Users/tatiana/.rvm/rubies/ree-1.8.7-2011.03/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `require'
script/server:3

ActionView::TemplateError (compile error
/Users/tatiana/Workspace/qype-fm/app/views/main/map.html.erb:24: syntax error, unexpected '}', expecting tCOLON2 or '[' or '.'
...nt.venue.lat,event.venue.long}" ).to_s); @output_buffer.conc...
                              ^
/Users/tatiana/Workspace/qype-fm/app/views/main/map.html.erb:25: unterminated string meets end of file
/Users/tatiana/Workspace/qype-fm/app/views/main/map.html.erb:25: syntax error, unexpected $end, expecting '}') on line #24 of app/views/main/map.html.erb:
21:             myOptions);
22:         <% @events.each do |event| %>
23:           var marker_<%= event.eid %> = new google.maps.Marker({
24:               position: '<%= "#{event.venue.lat,event.venue.long}" %>',
25:               title: '<%= event.title %>'
26:           });
27:           marker_<%= event.eid %>.setMap(map);

    app/views/main/map.html.erb:25:in `compile!'
    app/controllers/main_controller.rb:29:in `map'

Rendered rescues/_trace (39.8ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing MainController#map (for 127.0.0.1 at 2012-03-09 18:17:11) [GET]
  Parameters: {"id"=>"53.551196,9.968719"}
Rendering main/map
Completed in 270ms (View: 87, DB: 0) | 200 OK [http://localhost/main/map/53.551196,9.968719]


Processing MainController#map (for 127.0.0.1 at 2012-03-09 18:18:46) [GET]
  Parameters: {"id"=>"53.551196,9.968719"}
Rendering main/map
Completed in 522ms (View: 3, DB: 0) | 200 OK [http://localhost/main/map/53.551196,9.968719]


Processing MainController#map (for 127.0.0.1 at 2012-03-09 18:31:36) [GET]
  Parameters: {"id"=>"53.551196,9.968719"}
Rendering main/map

ActionView::TemplateError (undefined local variable or method `event' for #<ActionView::Base:0x10421c000>) on line #2 of app/views/main/_event_info.html.erb:
1: <div>
2:   <%= event.title %> at <%= event.venue.title %><br>
3:   <%= image_tag(event.image(:medium)) %> <br>
4:   <%= event.start_date %><br>
5:   <%= event.artists %><br>

    app/views/main/_event_info.html.erb:2
    app/views/main/map.html.erb:27
    app/views/main/map.html.erb:22:in `each'
    app/views/main/map.html.erb:22
    app/controllers/main_controller.rb:29:in `map'

Rendered rescues/_trace (204.1ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing MainController#map (for 127.0.0.1 at 2012-03-09 18:32:20) [GET]
  Parameters: {"id"=>"53.551196,9.968719"}
Rendering main/map

ActionView::TemplateError (undefined method `title' for #<Rockstar::Venue:0x1043dab80>) on line #2 of app/views/main/_event_info.html.erb:
1: <div>
2:   <%= event.title %> at <%= event.venue.title %><br>
3:   <%= image_tag(event.image(:medium)) %> <br>
4:   <%= event.start_date %><br>
5:   <%= event.artists %><br>

    app/views/main/_event_info.html.erb:2
    app/views/main/map.html.erb:27
    app/views/main/map.html.erb:22:in `each'
    app/views/main/map.html.erb:22
    app/controllers/main_controller.rb:29:in `map'

Rendered rescues/_trace (41.8ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing MainController#map (for 127.0.0.1 at 2012-03-09 18:33:11) [GET]
  Parameters: {"id"=>"53.551196,9.968719"}
Rendering main/map
Rendered main/_event_info (0.8ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Completed in 1062ms (View: 7, DB: 0) | 200 OK [http://localhost/main/map/53.551196,9.968719]


Processing MainController#map (for 127.0.0.1 at 2012-03-09 18:34:34) [GET]
  Parameters: {"id"=>"53.551196,9.968719"}
Rendering main/map
Rendered main/_event_info (1.8ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Completed in 525ms (View: 9, DB: 0) | 200 OK [http://localhost/main/map/53.551196,9.968719]


Processing MainController#map (for 127.0.0.1 at 2012-03-09 18:36:00) [GET]
  Parameters: {"id"=>"53.551196,9.968719"}
Rendering main/map
Rendered main/_event_info (0.7ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Rendered main/_event_info (0.2ms)
Completed in 524ms (View: 6, DB: 0) | 200 OK [http://localhost/main/map/53.551196,9.968719]
